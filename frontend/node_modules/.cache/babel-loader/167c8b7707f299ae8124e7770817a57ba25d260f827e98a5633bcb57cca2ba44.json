{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Riyadh Awwibi/Desktop/money-tracker-app/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/Riyadh Awwibi/Desktop/money-tracker-app/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Riyadh Awwibi/Desktop/money-tracker-app/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Riyadh Awwibi/Desktop/money-tracker-app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";var BASE_URL='http://localhost:5000/api/v1/';var GlobalContext=/*#__PURE__*/React.createContext();export var GlobalProvider=function GlobalProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),incomes=_useState2[0],setIncomes=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),expenses=_useState4[0],setExpenses=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];//calculate incomes\nvar addIncome=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(income){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"\".concat(BASE_URL,\"add-income\"),income).catch(function(err){setError(err.response.data.message);});case 2:response=_context.sent;getIncomes();case 4:case\"end\":return _context.stop();}},_callee);}));return function addIncome(_x){return _ref2.apply(this,arguments);};}();var getIncomes=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"\".concat(BASE_URL,\"get-incomes\"));case 2:response=_context2.sent;setIncomes(response.data);console.log(response.data);case 5:case\"end\":return _context2.stop();}},_callee2);}));return function getIncomes(){return _ref3.apply(this,arguments);};}();var deleteIncome=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"\".concat(BASE_URL,\"delete-income/\").concat(id));case 2:res=_context3.sent;getIncomes();case 4:case\"end\":return _context3.stop();}},_callee3);}));return function deleteIncome(_x2){return _ref4.apply(this,arguments);};}();var totalIncome=function totalIncome(){var totalIncome=0;incomes.forEach(function(income){totalIncome=totalIncome+income.amount;});return totalIncome;};//calculate expenses\nvar addExpense=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(income){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.post(\"\".concat(BASE_URL,\"add-expense\"),income).catch(function(err){setError(err.response.data.message);});case 2:response=_context4.sent;getExpenses();case 4:case\"end\":return _context4.stop();}},_callee4);}));return function addExpense(_x3){return _ref5.apply(this,arguments);};}();var getExpenses=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.get(\"\".concat(BASE_URL,\"get-expenses\"));case 2:response=_context5.sent;setExpenses(response.data);console.log(response.data);case 5:case\"end\":return _context5.stop();}},_callee5);}));return function getExpenses(){return _ref6.apply(this,arguments);};}();var deleteExpense=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(id){var res;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.delete(\"\".concat(BASE_URL,\"delete-expense/\").concat(id));case 2:res=_context6.sent;getExpenses();case 4:case\"end\":return _context6.stop();}},_callee6);}));return function deleteExpense(_x4){return _ref7.apply(this,arguments);};}();var totalExpenses=function totalExpenses(){var totalIncome=0;expenses.forEach(function(income){totalIncome=totalIncome+income.amount;});return totalIncome;};var totalBalance=function totalBalance(){return totalIncome()-totalExpenses();};var transactionHistory=function transactionHistory(){var history=[].concat(_toConsumableArray(incomes),_toConsumableArray(expenses));history.sort(function(a,b){return new Date(b.createdAt)-new Date(a.createdAt);});return history.slice(0,3);};return/*#__PURE__*/_jsx(GlobalContext.Provider,{value:{addIncome:addIncome,getIncomes:getIncomes,incomes:incomes,deleteIncome:deleteIncome,expenses:expenses,totalIncome:totalIncome,addExpense:addExpense,getExpenses:getExpenses,deleteExpense:deleteExpense,totalExpenses:totalExpenses,totalBalance:totalBalance,transactionHistory:transactionHistory,error:error,setError:setError},children:children});};export var useGlobalContext=function useGlobalContext(){return useContext(GlobalContext);};","map":{"version":3,"names":["React","useContext","useState","axios","jsx","_jsx","BASE_URL","GlobalContext","createContext","GlobalProvider","_ref","children","_useState","_useState2","_slicedToArray","incomes","setIncomes","_useState3","_useState4","expenses","setExpenses","_useState5","_useState6","error","setError","addIncome","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","income","response","wrap","_callee$","_context","prev","next","post","concat","catch","err","data","message","sent","getIncomes","stop","_x","apply","arguments","_ref3","_callee2","_callee2$","_context2","get","console","log","deleteIncome","_ref4","_callee3","id","res","_callee3$","_context3","delete","_x2","totalIncome","forEach","amount","addExpense","_ref5","_callee4","_callee4$","_context4","getExpenses","_x3","_ref6","_callee5","_callee5$","_context5","deleteExpense","_ref7","_callee6","_callee6$","_context6","_x4","totalExpenses","totalBalance","transactionHistory","history","_toConsumableArray","sort","a","b","Date","createdAt","slice","Provider","value","useGlobalContext"],"sources":["C:/Users/Riyadh Awwibi/Desktop/money-tracker-app/frontend/src/context/globalContext.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst BASE_URL = 'http://localhost:5000/api/v1/';\r\n\r\nconst GlobalContext = React.createContext();\r\n\r\nexport const GlobalProvider = ({ children }) => {\r\n  const [incomes, setIncomes] = useState([]);\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  //calculate incomes\r\n  const addIncome = async (income) => {\r\n    const response = await axios.post(`${BASE_URL}add-income`, income).catch((err) => {\r\n      setError(err.response.data.message);\r\n    });\r\n    getIncomes();\r\n  };\r\n\r\n  const getIncomes = async () => {\r\n    const response = await axios.get(`${BASE_URL}get-incomes`);\r\n    setIncomes(response.data);\r\n    console.log(response.data);\r\n  };\r\n\r\n  const deleteIncome = async (id) => {\r\n    const res = await axios.delete(`${BASE_URL}delete-income/${id}`);\r\n    getIncomes();\r\n  };\r\n\r\n  const totalIncome = () => {\r\n    let totalIncome = 0;\r\n    incomes.forEach((income) => {\r\n      totalIncome = totalIncome + income.amount;\r\n    });\r\n\r\n    return totalIncome;\r\n  };\r\n\r\n  //calculate expenses\r\n  const addExpense = async (income) => {\r\n    const response = await axios.post(`${BASE_URL}add-expense`, income).catch((err) => {\r\n      setError(err.response.data.message);\r\n    });\r\n    getExpenses();\r\n  };\r\n\r\n  const getExpenses = async () => {\r\n    const response = await axios.get(`${BASE_URL}get-expenses`);\r\n    setExpenses(response.data);\r\n    console.log(response.data);\r\n  };\r\n\r\n  const deleteExpense = async (id) => {\r\n    const res = await axios.delete(`${BASE_URL}delete-expense/${id}`);\r\n    getExpenses();\r\n  };\r\n\r\n  const totalExpenses = () => {\r\n    let totalIncome = 0;\r\n    expenses.forEach((income) => {\r\n      totalIncome = totalIncome + income.amount;\r\n    });\r\n\r\n    return totalIncome;\r\n  };\r\n\r\n  const totalBalance = () => {\r\n    return totalIncome() - totalExpenses();\r\n  };\r\n\r\n  const transactionHistory = () => {\r\n    const history = [...incomes, ...expenses];\r\n    history.sort((a, b) => {\r\n      return new Date(b.createdAt) - new Date(a.createdAt);\r\n    });\r\n\r\n    return history.slice(0, 3);\r\n  };\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        addIncome,\r\n        getIncomes,\r\n        incomes,\r\n        deleteIncome,\r\n        expenses,\r\n        totalIncome,\r\n        addExpense,\r\n        getExpenses,\r\n        deleteExpense,\r\n        totalExpenses,\r\n        totalBalance,\r\n        transactionHistory,\r\n        error,\r\n        setError,\r\n      }}\r\n    >\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useGlobalContext = () => {\r\n  return useContext(GlobalContext);\r\n};\r\n"],"mappings":"olBAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,GAAM,CAAAC,QAAQ,CAAG,+BAA+B,CAEhD,GAAM,CAAAC,aAAa,cAAGP,KAAK,CAACQ,aAAa,CAAC,CAAC,CAE3C,MAAO,IAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACvC,IAAAC,SAAA,CAA8BV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAAgCf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA0BnB,QAAQ,CAAC,IAAI,CAAC,CAAAoB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAjCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtB;AACA,GAAM,CAAAG,SAAS,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACN,CAAAlC,KAAK,CAACmC,IAAI,IAAAC,MAAA,CAAIjC,QAAQ,eAAcyB,MAAM,CAAC,CAACS,KAAK,CAAC,SAACC,GAAG,CAAK,CAChFjB,QAAQ,CAACiB,GAAG,CAACT,QAAQ,CAACU,IAAI,CAACC,OAAO,CAAC,CACrC,CAAC,CAAC,QAFIX,QAAQ,CAAAG,QAAA,CAAAS,IAAA,CAGdC,UAAU,CAAC,CAAC,CAAC,wBAAAV,QAAA,CAAAW,IAAA,MAAAhB,OAAA,GACd,kBALK,CAAAL,SAASA,CAAAsB,EAAA,SAAArB,KAAA,CAAAsB,KAAA,MAAAC,SAAA,OAKd,CAED,GAAM,CAAAJ,UAAU,6BAAAK,KAAA,CAAAvB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAsB,SAAA,MAAAnB,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAmB,UAAAC,SAAA,iBAAAA,SAAA,CAAAjB,IAAA,CAAAiB,SAAA,CAAAhB,IAAA,SAAAgB,SAAA,CAAAhB,IAAA,SACM,CAAAlC,KAAK,CAACmD,GAAG,IAAAf,MAAA,CAAIjC,QAAQ,eAAa,CAAC,QAApD0B,QAAQ,CAAAqB,SAAA,CAAAT,IAAA,CACd5B,UAAU,CAACgB,QAAQ,CAACU,IAAI,CAAC,CACzBa,OAAO,CAACC,GAAG,CAACxB,QAAQ,CAACU,IAAI,CAAC,CAAC,wBAAAW,SAAA,CAAAP,IAAA,MAAAK,QAAA,GAC5B,kBAJK,CAAAN,UAAUA,CAAA,SAAAK,KAAA,CAAAF,KAAA,MAAAC,SAAA,OAIf,CAED,GAAM,CAAAQ,YAAY,6BAAAC,KAAA,CAAA/B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA8B,SAAOC,EAAE,MAAAC,GAAA,QAAAjC,mBAAA,GAAAK,IAAA,UAAA6B,UAAAC,SAAA,iBAAAA,SAAA,CAAA3B,IAAA,CAAA2B,SAAA,CAAA1B,IAAA,SAAA0B,SAAA,CAAA1B,IAAA,SACV,CAAAlC,KAAK,CAAC6D,MAAM,IAAAzB,MAAA,CAAIjC,QAAQ,mBAAAiC,MAAA,CAAiBqB,EAAE,CAAE,CAAC,QAA1DC,GAAG,CAAAE,SAAA,CAAAnB,IAAA,CACTC,UAAU,CAAC,CAAC,CAAC,wBAAAkB,SAAA,CAAAjB,IAAA,MAAAa,QAAA,GACd,kBAHK,CAAAF,YAAYA,CAAAQ,GAAA,SAAAP,KAAA,CAAAV,KAAA,MAAAC,SAAA,OAGjB,CAED,GAAM,CAAAiB,WAAW,CAAG,SAAAA,YAAA,CAAM,CACxB,GAAI,CAAAA,WAAW,CAAG,CAAC,CACnBnD,OAAO,CAACoD,OAAO,CAAC,SAACpC,MAAM,CAAK,CAC1BmC,WAAW,CAAGA,WAAW,CAAGnC,MAAM,CAACqC,MAAM,CAC3C,CAAC,CAAC,CAEF,MAAO,CAAAF,WAAW,CACpB,CAAC,CAED;AACA,GAAM,CAAAG,UAAU,6BAAAC,KAAA,CAAA3C,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA0C,SAAOxC,MAAM,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAuC,UAAAC,SAAA,iBAAAA,SAAA,CAAArC,IAAA,CAAAqC,SAAA,CAAApC,IAAA,SAAAoC,SAAA,CAAApC,IAAA,SACP,CAAAlC,KAAK,CAACmC,IAAI,IAAAC,MAAA,CAAIjC,QAAQ,gBAAeyB,MAAM,CAAC,CAACS,KAAK,CAAC,SAACC,GAAG,CAAK,CACjFjB,QAAQ,CAACiB,GAAG,CAACT,QAAQ,CAACU,IAAI,CAACC,OAAO,CAAC,CACrC,CAAC,CAAC,QAFIX,QAAQ,CAAAyC,SAAA,CAAA7B,IAAA,CAGd8B,WAAW,CAAC,CAAC,CAAC,wBAAAD,SAAA,CAAA3B,IAAA,MAAAyB,QAAA,GACf,kBALK,CAAAF,UAAUA,CAAAM,GAAA,SAAAL,KAAA,CAAAtB,KAAA,MAAAC,SAAA,OAKf,CAED,GAAM,CAAAyB,WAAW,6BAAAE,KAAA,CAAAjD,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAgD,SAAA,MAAA7C,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAA6C,UAAAC,SAAA,iBAAAA,SAAA,CAAA3C,IAAA,CAAA2C,SAAA,CAAA1C,IAAA,SAAA0C,SAAA,CAAA1C,IAAA,SACK,CAAAlC,KAAK,CAACmD,GAAG,IAAAf,MAAA,CAAIjC,QAAQ,gBAAc,CAAC,QAArD0B,QAAQ,CAAA+C,SAAA,CAAAnC,IAAA,CACdxB,WAAW,CAACY,QAAQ,CAACU,IAAI,CAAC,CAC1Ba,OAAO,CAACC,GAAG,CAACxB,QAAQ,CAACU,IAAI,CAAC,CAAC,wBAAAqC,SAAA,CAAAjC,IAAA,MAAA+B,QAAA,GAC5B,kBAJK,CAAAH,WAAWA,CAAA,SAAAE,KAAA,CAAA5B,KAAA,MAAAC,SAAA,OAIhB,CAED,GAAM,CAAA+B,aAAa,6BAAAC,KAAA,CAAAtD,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAqD,SAAOtB,EAAE,MAAAC,GAAA,QAAAjC,mBAAA,GAAAK,IAAA,UAAAkD,UAAAC,SAAA,iBAAAA,SAAA,CAAAhD,IAAA,CAAAgD,SAAA,CAAA/C,IAAA,SAAA+C,SAAA,CAAA/C,IAAA,SACX,CAAAlC,KAAK,CAAC6D,MAAM,IAAAzB,MAAA,CAAIjC,QAAQ,oBAAAiC,MAAA,CAAkBqB,EAAE,CAAE,CAAC,QAA3DC,GAAG,CAAAuB,SAAA,CAAAxC,IAAA,CACT8B,WAAW,CAAC,CAAC,CAAC,wBAAAU,SAAA,CAAAtC,IAAA,MAAAoC,QAAA,GACf,kBAHK,CAAAF,aAAaA,CAAAK,GAAA,SAAAJ,KAAA,CAAAjC,KAAA,MAAAC,SAAA,OAGlB,CAED,GAAM,CAAAqC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,GAAI,CAAApB,WAAW,CAAG,CAAC,CACnB/C,QAAQ,CAACgD,OAAO,CAAC,SAACpC,MAAM,CAAK,CAC3BmC,WAAW,CAAGA,WAAW,CAAGnC,MAAM,CAACqC,MAAM,CAC3C,CAAC,CAAC,CAEF,MAAO,CAAAF,WAAW,CACpB,CAAC,CAED,GAAM,CAAAqB,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB,MAAO,CAAArB,WAAW,CAAC,CAAC,CAAGoB,aAAa,CAAC,CAAC,CACxC,CAAC,CAED,GAAM,CAAAE,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,CAAS,CAC/B,GAAM,CAAAC,OAAO,IAAAlD,MAAA,CAAAmD,kBAAA,CAAO3E,OAAO,EAAA2E,kBAAA,CAAKvE,QAAQ,EAAC,CACzCsE,OAAO,CAACE,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,CAAK,CACrB,MAAO,IAAI,CAAAC,IAAI,CAACD,CAAC,CAACE,SAAS,CAAC,CAAG,GAAI,CAAAD,IAAI,CAACF,CAAC,CAACG,SAAS,CAAC,CACtD,CAAC,CAAC,CAEF,MAAO,CAAAN,OAAO,CAACO,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAC5B,CAAC,CAED,mBACE3F,IAAA,CAACE,aAAa,CAAC0F,QAAQ,EACrBC,KAAK,CAAE,CACLzE,SAAS,CAATA,SAAS,CACToB,UAAU,CAAVA,UAAU,CACV9B,OAAO,CAAPA,OAAO,CACP0C,YAAY,CAAZA,YAAY,CACZtC,QAAQ,CAARA,QAAQ,CACR+C,WAAW,CAAXA,WAAW,CACXG,UAAU,CAAVA,UAAU,CACVK,WAAW,CAAXA,WAAW,CACXM,aAAa,CAAbA,aAAa,CACbM,aAAa,CAAbA,aAAa,CACbC,YAAY,CAAZA,YAAY,CACZC,kBAAkB,CAAlBA,kBAAkB,CAClBjE,KAAK,CAALA,KAAK,CACLC,QAAQ,CAARA,QACF,CAAE,CAAAb,QAAA,CAEDA,QAAQ,CACa,CAAC,CAE7B,CAAC,CAED,MAAO,IAAM,CAAAwF,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CACpC,MAAO,CAAAlG,UAAU,CAACM,aAAa,CAAC,CAClC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}